        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>Timer abstract class / dart:async Library / Dart API Reference</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        <link rel="stylesheet" type="text/css"
            href="../apidoc-styles.css" />
        
        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(["_setAccount", "UA-26406144-9"]);
          _gaq.push(["_trackPageview"]);

          (function() {
            var ga = document.createElement("script");
            ga.type = "text/javascript"; ga.async = true;
            ga.src = ("https:" == document.location.protocol ?
              "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(ga, s);
          })();
        </script>
        
        </head>
        <body data-library="dart:async" data-type="Timer">
        <div class="page">
        <div class="header">
          <a href="http://dartlang.org" ref="external"><div class="logo"></div></a>
          <a href="../index.html">Dart API Reference</a>
         &rsaquo; <a href="../dart_async.html">dart:async</a> &rsaquo; <a href="../dart_async/Timer.html">Timer</a>        <form action="http://www.dartlang.org/search.html" id="search-box">
          <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
          <input type="hidden" name="ie" value="UTF-8">
          <input type="hidden" name="hl" value="en">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </form>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../args.html">args</a></h2><h2><div class="icon-library"></div><a href="../dart_async.html">dart:async</a></h2><ul class="icon">
<li><a href="../dart_async/CollectionSink.html"><div class="icon-class"></div>CollectionSink&lt;T&gt;</a></li>
<li><a href="../dart_async/Completer.html"><div class="icon-class"></div>Completer&lt;T&gt;</a></li>
<li><a href="../dart_async/DeferredLibrary.html"><div class="icon-class"></div>DeferredLibrary</a></li>
<li><a href="../dart_async/EventTransformStream.html"><div class="icon-class"></div>EventTransformStream&lt;S, T&gt;</a></li>
<li><a href="../dart_async/Future.html"><div class="icon-class"></div>Future&lt;T&gt;</a></li>
<li><a href="../dart_async/Stream.html"><div class="icon-class"></div>Stream&lt;T&gt;</a></li>
<li><a href="../dart_async/StreamConsumer.html"><div class="icon-class"></div>StreamConsumer&lt;S, T&gt;</a></li>
<li><a href="../dart_async/StreamController.html"><div class="icon-class"></div>StreamController&lt;T&gt;</a></li>
<li><a href="../dart_async/StreamEventTransformer.html"><div class="icon-class"></div>StreamEventTransformer&lt;S, T&gt;</a></li>
<li><a href="../dart_async/StreamSink.html"><div class="icon-class"></div>StreamSink&lt;T&gt;</a></li>
<li><a href="../dart_async/StreamSinkView.html"><div class="icon-class"></div>StreamSinkView&lt;T&gt;</a></li>
<li><a href="../dart_async/StreamSubscription.html"><div class="icon-class"></div>StreamSubscription&lt;T&gt;</a></li>
<li><a href="../dart_async/StreamTransformer.html"><div class="icon-class"></div>StreamTransformer&lt;S, T&gt;</a></li>
<li><a href="../dart_async/StreamView.html"><div class="icon-class"></div>StreamView&lt;T&gt;</a></li>
<li><div class="icon-class"></div><strong>Timer</strong></li>
<li><a href="../dart_async/AsyncError.html"><div class="icon-exception"></div>AsyncError</a></li>
</ul>
<h2><div class="icon-library"></div><a href="../dart_chrome.html">dart:chrome</a></h2><h2><div class="icon-library"></div><a href="../dart_collection.html">dart:collection</a></h2><h2><div class="icon-library"></div><a href="../dart_core.html">dart:core</a></h2><h2><div class="icon-library"></div><a href="../dart_crypto.html">dart:crypto</a></h2><h2><div class="icon-library"></div><a href="../dart_html.html">dart:html</a></h2><h2><div class="icon-library"></div><a href="../dart_indexed_db.html">dart:indexed_db</a></h2><h2><div class="icon-library"></div><a href="../dart_io.html">dart:io</a></h2><h2><div class="icon-library"></div><a href="../dart_isolate.html">dart:isolate</a></h2><h2><div class="icon-library"></div><a href="../dart_json.html">dart:json</a></h2><h2><div class="icon-library"></div><a href="../dart_math.html">dart:math</a></h2><h2><div class="icon-library"></div><a href="../dart_mirrors.html">dart:mirrors</a></h2><h2><div class="icon-library"></div><a href="../dart_scalarlist.html">dart:scalarlist</a></h2><h2><div class="icon-library"></div><a href="../dart_svg.html">dart:svg</a></h2><h2><div class="icon-library"></div><a href="../dart_uri.html">dart:uri</a></h2><h2><div class="icon-library"></div><a href="../dart_utf.html">dart:utf</a></h2><h2><div class="icon-library"></div><a href="../dart_web_audio.html">dart:web_audio</a></h2><h2><div class="icon-library"></div><a href="../dart_web_sql.html">dart:web_sql</a></h2><h2><div class="icon-library"></div><a href="../fixnum.html">fixnum</a></h2><h2><div class="icon-library"></div><a href="../intl.html">intl</a></h2><h2><div class="icon-library"></div><a href="../logging.html">logging</a></h2><h2><div class="icon-library"></div><a href="../matcher.html">matcher</a></h2><h2><div class="icon-library"></div><a href="../meta.html">meta</a></h2><h2><div class="icon-library"></div><a href="../mock.html">mock</a></h2><h2><div class="icon-library"></div><a href="../scheduled_test.html">scheduled_test</a></h2><h2><div class="icon-library"></div><a href="../serialization.html">serialization</a></h2><h2><div class="icon-library"></div><a href="../unittest.html">unittest</a></h2></div>
<div class="content">
        <h2><strong>Timer</strong>
          abstract class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
abstract class Timer {
 // Internal list used to group Timer.run callbacks.
 static List _runCallbacks = [];

 /**
  * Creates a new timer.
  *
  * The [callback] callback is invoked after the given [duration]
  * (a [Duration]) has passed. A negative duration is treated similar to
  * a duration of 0.
  *
  * If the [duration] is statically known to be 0, consider using [run].
  *
  * Frequently the [duration] is either a constant or computed as in the
  * following example (taking advantage of the multiplication operator of
  * the Duration class):
  *
  *     const TIMEOUT = const Duration(seconds: 3);
  *     const ms = const Duration(milliseconds: 1);
  *
  *     startTimeout([int milliseconds]) {
  *       var duration = milliseconds == null ? TIMEOUT : ms * milliseconds;
  *       return new Timer(duration, handleTimeout);
  *     }
  *
  * *Deprecation warning*: this constructor used to take an [int] (the time
  * in milliseconds) and a callback with one argument (the timer). This has
  * changed to a [Duration] and a callback without arguments.
  */
 // TODO(floitsch): add types.
 external factory Timer(var duration, Function callback);

 /**
  * Creates a new repeating timer.
  *
  * The [callback] is invoked repeatedly with [duration] intervals until
  * canceled. A negative duration is treated similar to a duration of 0.
  *
  * *Deprecation warning*: this constructor used to take an [int] (the time
  * in milliseconds). This has changed to a [Duration].
  */
 external factory Timer.repeating(var duration,
                                  void callback(Timer timer));

 /**
  * Runs the given [callback] asynchronously as soon as possible.
  */
 static void run(void callback()) {
   // Optimizing a group of Timer.run callbacks to be executed in the
   // same Timer callback.
   _runCallbacks.add(callback);
   if (_runCallbacks.length == 1) {
     new Timer(const Duration(milliseconds: 0), () {
       List runCallbacks = _runCallbacks;
       // Create new list to make sure we don't call newly added callbacks in
       // this event.
       _runCallbacks = [];
       for (int i = 0; i &lt; runCallbacks.length; i++) {
         Function callback = runCallbacks[i];
         try {
           callback();
         } catch (e) {
           List newCallbacks = _runCallbacks;
           _runCallbacks = [];
           _runCallbacks.addAll(runCallbacks.skip(i + 1));
           _runCallbacks.addAll(newCallbacks);
           throw;
         }
       }
     });
   }
 }

 /**
  * Cancels the timer.
  */
 void cancel();
}
</pre>
</div>
<h3>Subclasses</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../dart__isolate_helper/TimerImpl.html">TimerImpl</a></span></p>
<div>
<h3>Static Methods</h3>
<div class="method"><h4 id="run">
<button class="show-code">Code</button>
void <strong>run</strong>(void callback()) <a class="anchor-link" href="#run"
              title="Permalink to Timer.run">#</a></h4>
<div class="doc">
<p>Runs the given 
<span class="param">callback</span> asynchronously as soon as possible.</p>
<pre class="source">
static void run(void callback()) {
 // Optimizing a group of Timer.run callbacks to be executed in the
 // same Timer callback.
 _runCallbacks.add(callback);
 if (_runCallbacks.length == 1) {
   new Timer(const Duration(milliseconds: 0), () {
     List runCallbacks = _runCallbacks;
     // Create new list to make sure we don't call newly added callbacks in
     // this event.
     _runCallbacks = [];
     for (int i = 0; i &lt; runCallbacks.length; i++) {
       Function callback = runCallbacks[i];
       try {
         callback();
       } catch (e) {
         List newCallbacks = _runCallbacks;
         _runCallbacks = [];
         _runCallbacks.addAll(runCallbacks.skip(i + 1));
         _runCallbacks.addAll(newCallbacks);
         throw;
       }
     }
   });
 }
}
</pre>
</div>
</div>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="Timer">
<button class="show-code">Code</button>
factory <strong>Timer</strong>(duration, <a href="../dart_core/Function.html">Function</a> callback) <a class="anchor-link" href="#Timer"
              title="Permalink to Timer.Timer">#</a></h4>
<div class="doc">
<p>Creates a new timer.</p>
<p>The 
<span class="param">callback</span> callback is invoked after the given 
<span class="param">duration</span>
(a <code>Duration</code>) has passed. A negative duration is treated similar to
a duration of 0.</p>
<p>If the 
<span class="param">duration</span> is statically known to be 0, consider using <a class="crossref" href="../dart_async/Timer.html#run">run</a>.</p>
<p>Frequently the 
<span class="param">duration</span> is either a constant or computed as in the
following example (taking advantage of the multiplication operator of
the Duration class):</p>
<pre><code>const TIMEOUT = const Duration(seconds: 3);
const ms = const Duration(milliseconds: 1);

startTimeout([int milliseconds]) {
  var duration = milliseconds == null ? TIMEOUT : ms * milliseconds;
  return new Timer(duration, handleTimeout);
}
</code></pre>
<p><em>Deprecation warning</em>: this constructor used to take an <code>int</code> (the time
in milliseconds) and a callback with one argument (the timer). This has
changed to a <code>Duration</code> and a callback without arguments.</p>
<pre class="source">
external factory Timer(var duration, Function callback);
</pre>
</div>
</div>
<div class="method"><h4 id="Timer.repeating">
<button class="show-code">Code</button>
factory <strong>Timer.repeating</strong>(duration, void callback(<a href="../dart_async/Timer.html">Timer</a> timer)) <a class="anchor-link" href="#Timer.repeating"
              title="Permalink to Timer.Timer.repeating">#</a></h4>
<div class="doc">
<p>Creates a new repeating timer.</p>
<p>The 
<span class="param">callback</span> is invoked repeatedly with 
<span class="param">duration</span> intervals until
canceled. A negative duration is treated similar to a duration of 0.</p>
<p><em>Deprecation warning</em>: this constructor used to take an <code>int</code> (the time
in milliseconds). This has changed to a <code>Duration</code>.</p>
<pre class="source">
external factory Timer.repeating(var duration,
                                void callback(Timer timer));
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="cancel">
abstract void <strong>cancel</strong>() <a class="anchor-link" href="#cancel"
              title="Permalink to Timer.cancel">#</a></h4>
<div class="doc">
<p>Cancels the timer.</p>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          <div>This page was generated at 2013-02-26 14:50:18.582</div>
<div>        <p>Except as otherwise <a href="http://code.google.com/policies.html#restrictions">noted</a>, the content of this
        page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution
        3.0 License</a>, and code samples are licensed under the
        <a href="http://code.google.com/google_bsd_license.html">BSD License</a>.</p>
        <p><a href="http://www.dartlang.org/tos.html">Terms of Service</a> |
        <a href="http://www.google.com/intl/en/privacy/privacy-policy.html">Privacy Policy</a></p>
        </div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
